(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"2WkL":function(e,a,t){e.exports={PlayButton:"_8e7d398e09c25b24232d92aac8a15a81-scss",primary:"e8b2fe03d4e4726484b879ed8ff6f096-scss",secondary:"_4784fccf22dae0a2cc7c6c832914592d-scss",transparent:"_2334924a07cf1f0cbf99147a66ecad10-scss"}},"4wYq":function(e,a,t){e.exports={searchHistory:"fc5e24bcba4626c3475e2d7dbeaf76cd-scss",clearSearchHistory:"e30f602f573914949eb3b2bdf2c3e1c4-scss",clearSingleSearchHistory:"a028b37a9f7e8f8d7b8c4c1e7d598463-scss",clearSingleSearchHistoryButton:"_116505131767d644d4b941528742b409-scss"}},"6CoP":function(e,a,t){e.exports={shelf:"_9c9462a21fd8929cfc999f35d09cc940-scss",header:"ac7a1061d9277b5e9a1ff854a046122a-scss",topRow:"aa0650948ffb4042ce383876787f70ce-scss",titleWrapper:"_7331214f9f1e0342c39ab7e2d83991c3-scss",title:"_89d58eb2b9379fb820a5f6442ee6060d-scss",seeAll:"f7a955faa120d6eee45861a091c29542-scss",shelfGrid:"_3b0706da6b19bb4fb83e318289b83020-scss",showAll:"_86b5daa0eba3f2465c046d897ecfc35f-scss",root:"_7bf1862b8e096cebdaf4acbcfbec2d4e-scss",tracks:"cf1ffff8bd4bfa0b9c7508b671faabf2-scss",trackRow:"_708db1c5fbf3ce17c8cffb542dee59b9-scss",trackRowLast:"d7beded4948e0ef3dc333229bdcb6dc4-scss",trackPlayButton:"b6dfb6ee1405e42b84050686d1fb59c1-scss",trackContextButton:"_3fc899a367dbf938490d219cc77c517c-scss",isPlaying:"_2e4feac006839729cef6950fc372e558-scss",trackImage:"_3c63907907bdfe3d5fe359f1ad21065a-scss",trackMetadata:"bba7c79a4cdbf23fcf7048795f24cf4e-scss",trackArtists:"_4f728707bbd6bc0e32a2dd537846d248-scss",trackName:"_21467275a6617a97950914ff3bb28105-scss",explicit:"c50ed25200eeaea7e4cdfb3ea26001bb-scss"}},"6nfQ":function(e,a,t){e.exports={CategoryCard:"_2326696e1244e762bd7e426619b02370-scss",title:"c5d42a6a1f132e80cad79e45193e9e80-scss",backgroundOverlay:"_7632e4ea3665ed21c585780677b2aac0-scss",image:"be5c1eb819cc0cab1b07192e369fe88e-scss"}},AOlu:function(e,a,t){"use strict";var r=t("mXGw"),s=t.n(r),c=t("puxB");a.a=e=>s.a.createElement(c.a,e,s.a.createElement("path",{d:"M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z",fill:"currentColor"}))},B9Xw:function(e,a,t){"use strict";t.d(a,"a",(function(){return p})),t.d(a,"b",(function(){return h}));var r=t("mXGw"),s=t.n(r),c=t("8Jek"),n=t.n(c),l=t("a4DE"),o=t.n(l),i=t("pAAZ"),u=t("8I+N"),d=t("ChMR"),m=t("fF1i"),b=t("CNRc"),f=t("GHIz");const p=s.a.memo(({title:e,tagline:a,children:t,seeAllUri:c,showAll:l,className:d="",total:m,pageId:p,seeAllLabel:h})=>{const y=Object(r.useCallback)(r=>{const n=m>r&&c&&!l;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:o.a.header},s.a.createElement("div",{className:o.a.topRow},s.a.createElement("div",{className:o.a.titleWrapper},n?s.a.createElement(b.a,{as:"h2",variant:b.a.canon},s.a.createElement(u.a,{to:c||"",pageId:p,className:o.a.title},e)):s.a.createElement(b.a,{as:"h2",variant:b.a.canon,className:o.a.title},e)),n&&s.a.createElement(f.a,{link:c||"",className:o.a.seeAll,pageId:p,label:h})),a&&s.a.createElement("p",null,a)),l?t:Array.isArray(t)&&t.filter((e,a)=>a<r))},[m,c,l,t,p,a,e,h]);return Array.isArray(t)&&0===t.length?null:s.a.createElement("section",{className:n()(d,o.a.shelf),"aria-label":e},s.a.createElement(i.a,{className:n()(o.a.shelfGrid,{[o.a.showAll]:l}),columnAware:!0,render:y}))}),h=Object(d.b)(p,()=>null,e=>Object(m.a)({from:"Shelf",error:e}))},ERpb:function(e,a,t){e.exports={SearchBrowse:"_4afbb78796e464fb308a7b0bdc4d64d2-scss",browseAllWrapper:"dd5fc61883caf09db18d40becf862e8d-scss"}},GHIz:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var r=t("mXGw"),s=t.n(r),c=t("8Jek"),n=t.n(c),l=t("8I+N"),o=t("CNRc"),i=t("hGjs"),u=t("iEWP"),d=t.n(u);const m=s.a.memo(e=>{const{link:a,pageId:t,className:r,label:c}=e;return s.a.createElement(l.b,{to:a,className:n()(d.a.link,r),pageId:t},s.a.createElement(o.a,{as:"span",variant:o.a.minuetBold},c||i.b.get("search.see-all")))})},IhfO:function(e,a,t){"use strict";t.d(a,"a",(function(){return u})),t.d(a,"b",(function(){return m}));var r=t("mXGw"),s=t.n(r),c=t("re7x"),n=t("9/hO"),l=t("wJTk"),o=t.n(l),i=t("CNRc");const u={[o.a.Type.ALBUM]:"text/x-spotify-albums",[o.a.Type.ARTIST]:"text/x-spotify-artists",[o.a.Type.COLLECTION_ALBUM]:"text/x-spotify-collection-albums",[o.a.Type.COLLECTION_ARTIST]:"text/x-spotify-collection-artists",[o.a.Type.DAILY_MIX]:"text/x-spotify-daily-mix",[o.a.Type.EPISODE]:"text/x-spotify-episodes",[o.a.Type.FOLDER]:"text/x-spotify-folders",[o.a.Type.LOCAL]:"text/x-spotify-tracks",[o.a.Type.LOCAL_ALBUM]:"text/x-spotify-albums",[o.a.Type.LOCAL_ARTIST]:"text/x-spotify-artists",[o.a.Type.PLAYLIST]:"text/x-spotify-playlists",[o.a.Type.PLAYLIST_V2]:"text/x-spotify-playlists",[o.a.Type.PROFILE]:"text/x-spotify-users",[o.a.Type.SHOW]:"text/x-spotify-shows",[o.a.Type.STATION]:"text/x-spotify-stations",[o.a.Type.TRACK]:"text/x-spotify-tracks"},d=({text:e})=>s.a.createElement(i.a,{as:"span",variant:i.a.ballad,dir:"auto"},e),m=(e=[],a="",t="")=>(r,l=e,i=a,m=t)=>{r.stopPropagation(),window.addEventListener("mouseover",()=>document.body.removeAttribute("data-dragging-type"),{once:!0});const b=l.map(e=>o.a.from(e)),f=b.map(e=>e.toOpenURL());if(0===b.length||r.metaKey)return void r.preventDefault();r.dataTransfer.setData("text/x-spotify-context",m),r.dataTransfer.setData("text/uri-list",f.join("\n")),r.dataTransfer.setData("text/plain",f.join("\n"));const p={};b.forEach(e=>{const a=u[e.type];p[a]?p[a].push(e):p[a]=[e]}),document.body.setAttribute("data-dragging-type",Object.keys(p).join(" "));for(const e in p){if(!p[e])continue;const a=p[e];r.dataTransfer.setData(e,a.join("\n"))}const h=Object(c.renderToString)(s.a.createElement(d,{text:i}));if("function"==typeof r.dataTransfer.setDragImage){const e=Object(n.a)(h);r.dataTransfer.setDragImage(e.element,0,0),e.remove()}}},J20w:function(e,a,t){e.exports={emptySearch:"_975bbf5c8995c92e26f73a25fe87a961-scss",emptySearchTitle:"ae4e1a644e19f4d5af7b39f7e5960580-scss",emptySearchSubTitle:"ee5d4d2373610c65af208b2904e91fed-scss"}},KwWi:function(e,a,t){e.exports={carousel:"_6695fd91ea13e90d9b9d54584c048547-scss",gridScrollWrapper:"_96bf363e405076536d62b3337ea95def-scss",carouselAnchor:"_66c53c89c3d5984e07349560b70185a6-scss",title:"ccb8b8d721108af8d4fe447a9544f293-scss",header:"_4c871185995e85db3e4c0cd89c22491b-scss",buttonContainer:"ffc5d21bf18ac2a8888d329dd200eb7a-scss",rightButtonContainer:"_51f1bdf471f7037de22856dfa4433c50-scss",leftButtonContainer:"becf580cadf3030239e0d82bf71d6476-scss",button:"_48f9ea65ee20321d1663246b9b9384f1-scss",carouselGrid:"d7ddc2d27d3b7a23f690b0213e7de47d-scss"}},LPPy:function(e,a,t){e.exports={searchPageGrid:"ca48007a4c6853ba83b995b52e745570-scss"}},NQ5u:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));const r=e=>{var a;return(null==e||null===(a=e.linked_from)||void 0===a?void 0:a.uri)||e.uri}},SvoQ:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var r=t("U2jI"),s=t("oS2X");const c=({renderOldTracklist:e,renderNewTracklist:a})=>Object(r.b)(s.m)?a():e()},ViCY:function(e,a,t){e.exports={HeroCategoryCard:"c5a28c705b992b76c45dbb776cf76047-scss",backgroundOverlay:"c0f71ec678fcda5860625abd19d699d4-scss",heroTitle:"fbe9fd01f8ae7354e9082a5816a3300c-scss",heroImage:"_3be991b122f095750704a4ac004bf250-scss"}},WjI6:function(e,a,t){e.exports={hasHero:"e5f169e4e89cc264cd5e155ead28f3e3-scss",topResult:"bf77ae2f1abefc217f843b2fcbdc4c79-scss",searchResults:"_882abd309219af7e1e8e1e02344b1485-scss"}},WlZB:function(e,a,t){e.exports={header:"_30d255b89ae6c5d282d09aa2181504f8-scss"}},XhW5:function(e,a,t){"use strict";t.d(a,"a",(function(){return d}));var r=t("mXGw"),s=t.n(r),c=t("xARA"),n=t("8Jek"),l=t.n(n),o=t("4Ye9"),i=t("WtcU"),u=t.n(i);const d=({children:e,className:a=""})=>{const{elementRef:t}=s.a.useContext(o.b),r=l()(u.a.topbarContent,a);return t?Object(c.createPortal)(s.a.createElement("div",{"data-testid":"topbar-content",className:r},e),t):null}},ZAaW:function(e,a,t){e.exports={searchInput:"_293772bde87b2e2c11b41d9a0bf25395-scss",searchInputInput:"_748c0c69da51ad6d4fc04c047806cd4d-scss",searchInputIconContainer:"_982a1a5bec5b5ed635faecee50abbf7f-scss",searchInputIcon:"_08f8133e4f703ce562826348eb158f87-scss",searchInputSearchIcon:"_63fcb5e7d6356a1883a28b9eac119caa-scss",searchInputClearButton:"ffbed99e56684cab219dddee59f5df38-scss"}},a4DE:function(e,a,t){e.exports={shelf:"a8b052ab945f8d056679d7f3ff013e05-scss",header:"_4e5e81e75ea1c55d3c6b7130e90b4e45-scss",topRow:"_25ab18ebaa7323427b6a3ae748b2fdaa-scss",titleWrapper:"bd50070f7e4ffa804d8ad9fb0966c344-scss",title:"c65f5ba184497ced74470e887c6a95c3-scss",seeAll:"_2b16a62ab5b3e84f23b77433b9a5f0f5-scss",shelfGrid:"_6424f268be3505ebab663700d60ebaa6-scss",showAll:"_7321ea8cd8e8baded34054347ab0be48-scss"}},iEWP:function(e,a,t){e.exports={link:"_03c8a5d5aecfd3620383a75c995c96a2-scss"}},pRxq:function(e,a,t){e.exports={RemoveButton:"_6fb2398589457a2b758d4ef3d3f888f1-scss"}},sZkA:function(e,a,t){"use strict";t.r(a),t.d(a,"categories",(function(){return Ge})),t.d(a,"routes",(function(){return ze})),t.d(a,"SearchPage",(function(){return Xe}));var r=t("mXGw"),s=t.n(r),c=t("/m4v"),n=t("8YTP"),l=t("odWe"),o=t("IaME"),i=t("hGjs"),u=t("oNR1"),d=t("4wYq"),m=t.n(d),b=t("B9Xw"),f=t("qOe9"),p=t("/0yG"),h=(t("W0B4"),t("y3F8")),y=t("pRxq"),E=t.n(y);class g extends s.a.Component{render(){const{onClick:e,size:a}=this.props;return s.a.createElement("button",{style:{"--size":a+"px"},className:E.a.RemoveButton,onClick:e,"aria-label":"Remove"},s.a.createElement(h.a,{size:a-4}))}}g.defaultProps={size:32};var k=t("epQy"),v=t("CNRc");const C=()=>{const{searchHistory:e,clearSearchHistory:a}=Object(k.b)(),{showRecent:t,onSearchRequest:r}=s.a.useContext(o.e);return e.length>0?s.a.createElement("div",{className:m.a.searchHistory},s.a.createElement(b.b,{total:e.length,seeAllUri:"spotify:app:recent-searches",title:i.b.get("search.title.recent-searches"),showAll:t},e.map((e,t)=>{const r=Object(f.a)(e.uri);return s.a.createElement("div",{className:m.a.clearSingleSearchHistory,key:e.uri},s.a.createElement(p.b,{index:t,value:"search-history"},s.a.createElement(r,{entity:e}),s.a.createElement("div",{className:m.a.clearSingleSearchHistoryButton},s.a.createElement(g,{size:28,onClick:()=>a(e.uri)}))))})),t?s.a.createElement("button",{onClick:()=>{a(),r("")},className:m.a.clearSearchHistory},s.a.createElement(v.a,{as:"span",variant:v.a.minuetBold},i.b.get("search.clear-recent-searches"))):null):null};var I=t("pAAZ"),x=t("WjI6"),R=t.n(x);const O=({results:e,prependItemToSearchHistory:a})=>{const t=e.topHit&&Object(f.a)(e.topHit.hits[0].uri),r=e.topHit&&e.topHit.total;return s.a.createElement(b.b,{total:r,className:R.a.hasHero,title:i.b.get("search.title.top-result")},e.topHit?[s.a.createElement("div",{key:"top-result-item",className:R.a.topResult},s.a.createElement(p.b,{value:"top-result-card"},s.a.createElement(t,{isHero:!0,onClick:()=>a(e.topHit.hits[0]),onPlay:()=>a(e.topHit.hits[0]),key:e.topHit.hits[0].uri,entity:e.topHit.hits[0]})))]:[])};var N=t("8I+N"),S=t("ttrV"),w=t("siKT"),T=t("puxB");var j=e=>s.a.createElement(T.a,e,s.a.createElement("path",{d:"M12,11.25a.75.75,0,1,0,.75.76A.74.74,0,0,0,12,11.25Z",fill:"currentColor",stroke:"currentColor",strokeMiterlimit:"10"}),s.a.createElement("path",{d:"M5.25,11.25A.75.75,0,1,0,6,12,.74.74,0,0,0,5.25,11.25Z",fill:"currentColor",stroke:"currentColor",strokeMiterlimit:"10"}),s.a.createElement("path",{d:"M18.75,11.25a.75.75,0,1,0,.75.76A.74.74,0,0,0,18.75,11.25Z",fill:"currentColor",stroke:"currentColor",strokeMiterlimit:"10"})),A=t("GUgp"),L=t("xS3f"),U=t("5lhI"),_=t("TXht"),q=t("6CoP"),H=t.n(q),P=t("Eel9"),M=t("F1/t"),B=t("GHIz"),W=t("SvoQ"),G=t("WOxI"),z=t("NQ5u");const D=s.a.memo(({tracks:e})=>{const a=Object(r.useCallback)((e,a)=>{var t;return s.a.createElement(G.p,{key:e.uri,index:a,imgUrl:null===(t=e.images)||void 0===t?void 0:t[0].url,uri:Object(z.a)(e),duration_ms:e.duration||e.duration_ms,name:e.name,artists:e.artists,isPlayable:!0,isMOGEFRestricted:!!e.mogef19,isExplicit:!!e.explicit})},[]);return e&&s.a.createElement(p.b,{value:"search-results-tracklist"},s.a.createElement(G.q,{ariaLabel:i.b.get("search.a11y.songs-search-results"),renderRow:a,rowPlaceholder:G.n,nrTracks:Math.min(e.length,4),tracks:e,resolveUri:e=>e.uri,columns:[G.d.TITLE,G.d.DURATION]}))},(e,a)=>e.tracks===a.tracks),X=e=>{const{track:a,prependItemToSearchHistory:t,index:c,top3:n}=e,{onLogInteraction:l}=Object(M.a)(),{currentlyPlayingUri:i,isPlaybackPlaying:u,playContext:d,inpiredByMixSeed:m,pause:b,resume:f}=Object(r.useContext)(o.b),h=a.uri===i||(null==m?void 0:m[a.uri])===i;const y=Object(r.useCallback)(()=>{t(a)},[t,a]);let E=c===n.length-1?`${H.a.SearchResultsLast} ${H.a.trackRow}`:H.a.trackRow;E=h&&u?`${E} ${H.a.isPlaying}`:E;const g=s.a.createRef();return s.a.createElement(p.b,{value:"tracks",index:c,key:a.uri},s.a.createElement(_.a,{uri:a.uri,text:a.name},s.a.createElement(U.a,{uri:a.uri,onLogInteraction:l},s.a.createElement("div",{className:E,onMouseLeave:()=>document.activeElement===g.current&&document.activeElement.blur(),key:"track-row-"+a.uri},s.a.createElement("div",{className:H.a.trackImage},s.a.createElement(P.a,{images:a.images})),s.a.createElement("div",{className:H.a.trackPlayButton},s.a.createElement(L.c,{size:L.a.xs,isPlaying:Boolean(u&&h),onClick:()=>{return e="tracks/"+c,l({targetUri:a.uri,intent:Boolean(u&&h)?"pause":"play",type:"click",itemIdSuffix:e}),t(a),void(h?u?b():f():d(a.uri));var e}})),s.a.createElement("div",{className:H.a.trackMetadata},s.a.createElement(N.a,{to:a.uri,onClick:y,className:H.a.trackName},s.a.createElement(v.a,{as:"span",variant:v.a.mestoBold},a.name)),s.a.createElement("div",{className:H.a.trackArtists},a.explicit&&s.a.createElement(A.a,{className:H.a.explicit}),a.artists&&s.a.createElement(S.a,{onClick:y,entities:a.artists}))),s.a.createElement(U.a,{uri:a.uri,holdToDisplay:0,onLogInteraction:l},s.a.createElement(w.a,{size:24,className:H.a.trackContextButton,ariaLabel:"Context Menu Button"},s.a.createElement(j,{size:24})))))))},F=e=>{var a;const{tracks:t,query:c,prependItemToSearchHistory:n}=e,l=Object(r.useCallback)(()=>{const e=t.hits.slice(0,3),a=`spotify:app:search:${encodeURIComponent(c)}:tracks`;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:H.a.header},t.hits.length>3?s.a.createElement("div",{className:H.a.topRow},s.a.createElement("div",{className:H.a.titleWrapper},s.a.createElement(v.a,{as:"h2",variant:v.a.canon},s.a.createElement(N.a,{to:a,className:H.a.title},i.b.get("search.title.tracks")))),s.a.createElement(B.a,{link:a})):s.a.createElement(v.a,{as:"h2",variant:v.a.canon,className:H.a.title},i.b.get("search.title.tracks"))),s.a.createElement("div",{className:H.a.tracks},s.a.createElement(r.Suspense,{fallback:null},s.a.createElement(W.a,{renderOldTracklist:()=>e.map((a,t)=>s.a.createElement(X,{key:a.uri,index:t,track:a,top3:e,prependItemToSearchHistory:n})),renderNewTracklist:()=>s.a.createElement(D,{tracks:t.hits,prependItemToSearchHistory:n})}))))},[c,t,n]);return 0===!(null==t||null===(a=t.hits)||void 0===a?void 0:a.length)?null:s.a.createElement("section",{className:H.a.root,"aria-label":i.b.get("search.title.tracks"),"data-testid":"search-tracks-result"},s.a.createElement(I.a,{columnAware:!0,render:l}))},$=({results:e,prependItemToSearchHistory:a,query:t})=>e.topRecommendations?s.a.createElement(b.b,{total:e.topRecommendations.total,title:e.topRecommendations.title,seeAllUri:`spotify:app:search:${encodeURIComponent(t)}:topRecommendations`},e.topRecommendations.hits.map((e,t)=>{const r=Object(f.a)(e.uri);return s.a.createElement(p.b,{index:t,key:e.uri,value:"top-recommendations"},s.a.createElement(r,{onClick:()=>a(e),onPlay:()=>a(e),entity:e}))})):null,J=({entity:e,query:a,results:{hits:t,total:r}={},prependItemToSearchHistory:c})=>{const{title:n,category:l}=e;if(!t||0===t.length)return null;const o=Object(f.a)(t[0].uri);return s.a.createElement(b.b,{total:r,title:n,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${l}`},t.map((a,t)=>s.a.createElement(p.b,{value:l,index:t,key:a.uri},s.a.createElement(o,{onClick:()=>c(a),onPlay:()=>c(e),entity:a}))))};var Y=t("eI+U");const Z=()=>{const{searchHistory:e,setSearchHistory:a}=Object(k.b)(),{results:t,query:r,getResultEntities:c}=s.a.useContext(o.e),n=t=>a([t,...Array.isArray(e)?e:[]]),l=c();return s.a.createElement(I.a,{className:R.a.searchResults,rowGap:Y.spacer32,render:()=>s.a.createElement(p.b,{value:"search-results"},s.a.createElement(O,{results:t,prependItemToSearchHistory:n}),s.a.createElement(F,{query:r,tracks:t.tracks,prependItemToSearchHistory:n}),s.a.createElement($,{query:r,results:t,prependItemToSearchHistory:n}),l.map(e=>s.a.createElement(J,{key:"search-shelf-"+e.category,entity:e,query:r,results:t[e.category],prependItemToSearchHistory:n})))})};var Q=t("J20w"),K=t.n(Q);const V=()=>{const{query:e}=s.a.useContext(o.e);return s.a.createElement("div",{className:K.a.emptySearch},s.a.createElement(v.a,{as:"h1",variant:v.a.canon,className:K.a.emptySearchTitle},i.b.get("search.empty-results-title",e)),s.a.createElement("p",{className:K.a.emptySearchSubTitle},i.b.get("search.empty-results-text")))};var ee=t("WlZB"),ae=t.n(ee),te=t("9ttr"),re=t("ILyY"),se=t("3sMm");const ce=s.a.memo(({nrTracks:e,query:a,ariaLabel:t})=>{const c=Object(r.useCallback)((e,t)=>Object(re.getSearchCategoryResults)(a,"tracks",e,t).then(e=>{var a,t,r;return(null===(a=e.body)||void 0===a||null===(t=a.results)||void 0===t||null===(r=t.tracks)||void 0===r?void 0:r.hits)||[]}),[a]),n=Object(r.useCallback)((e,a)=>{var t;const r=Object(se.a)(null==e||null===(t=e.album)||void 0===t?void 0:t.images,{desiredSize:40});return s.a.createElement(G.o,{key:a+e.uri,index:a,uri:Object(z.a)(e),duration_ms:e.duration_ms,name:e.name,artists:e.artists,album:e.album,isPlayable:!0,isExplicit:!!e.explicit,isMOGEFRestricted:!!e.mogef19,imgUrl:(null==r?void 0:r.url)||""})},[]);return s.a.createElement(p.b,{value:"search-results-tracklist"},s.a.createElement(G.q,{ariaLabel:t,key:a,hasHeaderRow:!0,columns:[G.d.INDEX,G.d.TITLE,G.d.ALBUM,G.d.DURATION],renderRow:n,resolveUri:e=>e.uri,nrTracks:e,fetchTracks:c,limit:50}))}),ne="topRecommendations";var le=Object(c.b)(null,e=>({dispatch:e}))(e=>{const[a,t]=Object(r.useState)(!1),c=Object(r.useRef)(),{query:l,results:u,category:d,getResultEntities:m}=s.a.useContext(o.e),{title:b,onSearchRequest:p,onSearchCategoryRequest:h,onSearchCategoryLoadMore:y,results:E}=Object(r.useMemo)((({results:e,category:a,query:t,dispatch:r,getResultEntities:s})=>()=>{var c;const l=s().reduce((e,a)=>(e[a.category]=a.title,e),{tracks:i.b.get("search.title.tracks")});return{results:e[a],title:a===ne?null===(c=e.topRecommendations)||void 0===c?void 0:c.title:i.b.get("search.showing-category-query",i.b.toLocaleLowerCase(l[a]),t),onSearchRequest:e=>{r(n.a.searchRequest(e))},onSearchCategoryRequest:(e,a)=>{r(n.a.searchCategoryRequest(e,a))},onSearchCategoryLoadMore:(e,a)=>{r(n.a.searchCategoryLoadMore(e,a))}}})({results:u,category:d,query:l,dispatch:e.dispatch,getResultEntities:m}),[u,d,l]),g=(E||{}).loadMoreURI,C=Object(r.useCallback)((({loadMoreURI:e,lastLoadedURI:a,category:t,setShouldLoadMoreOnUpdate:r,onSearchCategoryLoadMore:s})=>()=>{e&&e!==a.current?(a.current=e,r(!1),s(e,t)):r(!0)})({loadMoreURI:g,lastLoadedURI:c,category:d,setShouldLoadMoreOnUpdate:t,onSearchCategoryLoadMore:y}),[g,d,t,y]);Object(r.useEffect)((({results:e,category:a,query:t,onSearchRequest:r,onSearchCategoryRequest:s,shouldLoadMoreOnUpdate:c,handleLoadMore:n})=>()=>{e&&e.loadMoreURI||!a||!t||(a===ne?r(t):s(t,a)),c&&n()})({results:E,category:d,query:l,onSearchRequest:p,onSearchCategoryRequest:h,shouldLoadMoreOnUpdate:a,handleLoadMore:C}),[JSON.stringify(E),a,d]);const{searchHistory:x,setSearchHistory:R}=Object(k.c)(),O=e=>R([e,...x]),N=()=>s.a.createElement(te.a,{onReachBottom:C},s.a.createElement(I.a,{render:()=>E.hits.map(e=>{const a=Object(f.a)(e.uri);return s.a.createElement(a,{key:e.uri,entity:e,onClick:()=>O(e),onPlay:()=>O(e)})})}));return s.a.createElement("div",null,s.a.createElement(v.a,{as:"h1",variant:v.a.canon,className:ae.a.header},b),E&&"tracks"===d&&s.a.createElement(r.Suspense,{fallback:null},s.a.createElement(W.a,{renderOldTracklist:()=>N(),renderNewTracklist:()=>s.a.createElement(ce,{ariaLabel:b,nrTracks:Math.min(E.total,1e3),query:l})})),E&&"tracks"!==d&&N())}),oe=t("6nfQ"),ie=t.n(oe),ue=t("+CXe");const de=Y.gray30,me=Y.gray50;class be extends r.PureComponent{render(){const{title:e,imageUrl:a,viewId:t,pageId:r,color:c,href:n}=this.props;return s.a.createElement(N.a,{to:t&&"/genre/"+t||n,pageId:r,className:ie.a.CategoryCard,style:{backgroundColor:c}},s.a.createElement("div",{className:ie.a.backgroundOverlay},a?s.a.createElement(ue.a,{loading:"lazy",src:a,className:ie.a.image}):s.a.createElement("div",{style:{backgroundColor:me},className:ie.a.image,"data-testid":"fallback"}),s.a.createElement("h3",{className:ie.a.title},e)))}}be.defaultProps={color:de};var fe=t("ViCY"),pe=t.n(fe);class he extends r.PureComponent{render(){const{title:e,imageUrl:a,viewId:t,color:r,pageId:c}=this.props;return s.a.createElement(N.a,{to:"/genre/"+t,pageId:c,className:pe.a.HeroCategoryCard,style:{backgroundColor:r}},s.a.createElement("div",{className:pe.a.backgroundOverlay},s.a.createElement("h3",{className:pe.a.heroTitle},e),a?s.a.createElement(ue.a,{loading:"lazy",className:pe.a.heroImage,src:a}):s.a.createElement("div",{className:pe.a.heroImage,style:{backgroundColor:me},"data-testid":"fallback"})))}}he.defaultProps={color:de};var ye=t("KwWi"),Ee=t.n(ye),ge=t("SCYk"),ke=t("J+2A"),ve=t("ChMR"),Ce=t("fF1i"),Ie=t("WBBb");var xe=Object(ve.b)(e=>{const{title:a,children:t,seeAllUri:c,pageId:n,className:l="",childColumnSpan:o=1}=e,[i,u]=Object(r.useState)(!1),[d,m]=Object(r.useState)(!1),b=Object(r.useRef)(null),{onLogInteraction:f}=Object(M.a)(),p=Object(Ie.a)(()=>{!function(e,a,t,r,s){if(null===s.current)return;const{scrollLeft:c,offsetWidth:n,scrollWidth:l}=s.current,o=c>0,i=c+n<l;e!==o&&t(o),a!==i&&r(i)}(i,d,u,m,b)},200);if(Array.isArray(t)&&0===t.length)return null;const h=Array.isArray(t)?t.length:0;return s.a.createElement("section",{className:`${l} ${Ee.a.carousel}`,"aria-label":a},s.a.createElement("div",{className:Ee.a.header},c?s.a.createElement(N.a,{to:c,pageId:n},s.a.createElement(v.a,{as:"h2",variant:v.a.canon,className:Ee.a.title},a)):s.a.createElement(v.a,{as:"h2",variant:v.a.canon,className:Ee.a.title},a)),s.a.createElement("div",{className:Ee.a.carouselAnchor},s.a.createElement("div",{"data-testid":"scroll-wrapper",className:Ee.a.gridScrollWrapper,ref:b,onScroll:p},s.a.createElement(I.a,{className:Ee.a.carouselGrid,columnAware:!0,fixedColumnCount:h*o,onUpdate:p,render:(e,a)=>s.a.createElement(s.a.Fragment,null,i&&s.a.createElement("div",{className:`${Ee.a.buttonContainer} ${Ee.a.leftButtonContainer}`},s.a.createElement(w.a,{className:Ee.a.button,onClick:()=>{!function(e,a,t){null!==t.current&&(t.current.scrollLeft-=e*(a+16))}(e,a,b),f({intent:"carousel-left",type:"click",itemIdSuffix:"carousel"})},standalone:!0,tabIndex:-1,size:40},s.a.createElement(ke.a,{size:24}))),d&&s.a.createElement("div",{className:`${Ee.a.buttonContainer} ${Ee.a.rightButtonContainer}`},s.a.createElement(w.a,{className:Ee.a.button,onClick:()=>{!function(e,a,t){null!==t.current&&(t.current.scrollLeft+=e*(a+16))}(e,a,b),f({intent:"carousel-right",type:"click",itemIdSuffix:"carousel"})},standalone:!0,tabIndex:-1,size:40},s.a.createElement(ge.a,{size:24}))),t)}))))},()=>null,e=>Object(Ce.a)({from:"Carousel",error:e})),Re=t("ERpb"),Oe=t.n(Re);class Ne extends s.a.PureComponent{render(){const{topGenres:e,browseAll:a}=this.props;return e||a?s.a.createElement("div",{className:Oe.a.SearchBrowse},e&&s.a.createElement(p.b,{value:"top-genre"},s.a.createElement(xe,{title:e.title,childColumnSpan:2},e.items.map(({viewId:e,color:a,title:t,imageUrl:r},c)=>s.a.createElement(p.b,{key:e,index:c,value:"hero-category-card"},s.a.createElement(he,{title:t,viewId:e,pageId:"search",color:a,imageUrl:r}))))),a&&s.a.createElement("div",{className:Oe.a.browseAllWrapper},s.a.createElement(b.b,{title:a.title,showAll:!0},a.items.map(({viewId:e,color:a,title:t,imageUrl:r,href:c})=>s.a.createElement(be,{key:e||c,title:t,viewId:e,pageId:"search",href:c,color:a,imageUrl:r}))))):null}}var Se=Object(c.b)(e=>({topGenres:e.browse.topGenres,browseAll:e.browse.browseAll}))(Ne),we=t("wJTk"),Te=t.n(we),je=t("AOlu"),Ae=t("ZAaW"),Le=t.n(Ae),Ue=t("VDjn");const _e=s.a.memo(()=>{const e=Object(r.useRef)(null),a=Object(r.useRef)(null),t=Object(u.g)(),l=Object(c.c)(),d=Object(u.j)("/search/:query?/:category?"),{query:m="",category:b=""}=(null==d?void 0:d.params)||{};let f;try{f=decodeURIComponent(m||"")}catch(e){f=m}const[p,y]=Object(r.useState)(f),E=Ge.includes(b),g=s.a.useContext(o.d),k=Object(Ie.a)((e,a)=>{a?t.push("/search/"+encodeURIComponent(e)):t.replace("/search/"+encodeURIComponent(e)),g.current&&(g.current.scrollTop=0),l(n.a.searchRequest(e))},200),v=new URLSearchParams(location.search),C=Boolean(v.get("showRecent")),I=E||C;Object(r.useEffect)(()=>{I||e.current!==document.activeElement&&(a.current=document.activeElement,e.current&&e.current.focus())},[t.location.key,I]);return s.a.createElement("div",{className:Le.a.searchInput,role:"search"},s.a.createElement("input",{ref:e,className:Le.a.searchInputInput,value:p,maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const a=e.currentTarget.value;y(a),k(a,I)},onKeyDown:r=>{if("Escape"===r.key)p?(y(""),k("",I)):(e.current&&e.current.blur(),a.current instanceof HTMLElement&&a.current.focus());else if("Enter"===r.key){const e=decodeURIComponent(p),a=Te.a.from(e);if(!a)return;switch(a.type){case Te.a.Type.AD:{const e=Te.a.idToHex(a._base62Id);if(a._base62Id===e)return;return void l(Object(Ue.h)(e))}default:t.push(a.toURLPath(!0))}}},placeholder:i.b.get("search.search-for-label"),onFocus:()=>{I&&k(p,I)},"data-testid":"search-input"}),s.a.createElement("div",{className:Le.a.searchInputIconContainer},s.a.createElement("span",{className:Le.a.searchInputSearchIcon},s.a.createElement(je.a,{size:24,viewBox:"0 0 512 512",className:Le.a.searchInputIcon,"aria-hidden":!0})),p&&s.a.createElement("button",{className:Le.a.searchInputClearButton,onClick:()=>{e.current&&e.current.focus(),y(""),k("",I)},"aria-label":i.b.get("search.a11y.clear-input")},s.a.createElement(h.a,{size:24,className:Le.a.searchInputIcon}))))});var qe=t("XhW5"),He=t("LPPy"),Pe=t.n(He),Me=t("U2jI"),Be=t("oS2X");const We=()=>{const e=Object(Me.b)(Be.c),a=Object(c.c)();return Object(r.useEffect)(()=>{a(n.a.browseRequest(e))},[e,a]),null},Ge=["playlists","albums","artists","tracks","shows","episodes","topRecommendations","shows","profiles","genres"],ze=(e,a)=>{const t="{}"!==JSON.stringify(e),r=Object.keys(e).some(a=>Number(e[a].total)>0);return s.a.createElement(s.a.Fragment,null,s.a.createElement(qe.a,null,s.a.createElement(_e,null)),s.a.createElement(u.b,{exact:!0,path:"/search"},s.a.createElement(C,null),!a&&s.a.createElement(Se,null)),s.a.createElement(u.b,{exact:!0,path:"/search/:query"},t&&r&&s.a.createElement(Z,null),t&&!r&&s.a.createElement(V,null)),s.a.createElement(u.b,{path:"/search/:query/:category",component:le}))},De=()=>[{title:i.b.get("search.title.artists"),category:"artists"},{title:i.b.get("search.title.albums"),category:"albums"},{title:i.b.get("search.title.playlists"),category:"playlists"},{title:i.b.get("search.title.shows"),category:"shows"},{title:i.b.get("search.title.episodes"),category:"episodes"},{title:i.b.get("search.title.profiles"),category:"profiles"},{title:i.b.get("search.title.genres"),category:"genres"}];const Xe=s.a.memo(()=>{const e=Object(c.c)(),a=Object(u.g)(),{queryFromUrl:t,category:d}=function(){const{query:e="",category:a}=Object(u.i)();let t;try{t=decodeURIComponent(e)}catch(a){t=e}return{queryFromUrl:t,category:a}}(),m=Object(u.h)(),b=new URLSearchParams(m.search),f=Boolean(b.get("showRecent")),h=Object(c.d)(e=>e.fusionSearch.results),y=Object(r.useCallback)((t,r)=>{r?a.push("/search/"+encodeURIComponent(t)):a.replace("/search/"+encodeURIComponent(t)),e(n.a.searchRequest(t))},[a,e]);Object(r.useEffect)(()=>{e(Object(l.I)(i.b.get("search.page-title"))),e(Object(l.H)())},[e]),Object(r.useEffect)(()=>{!t||d||f||y(t)},[d,t,f,y]),Object(r.useEffect)(()=>{""===t&&e(n.a.clearSearchResults())},[e,t]);const E={results:h,query:t,showRecent:f,category:d,onSearchRequest:y,getResultEntities:De};return s.a.createElement(o.e.Provider,{value:E},s.a.createElement(p.b,{value:"search-page"},s.a.createElement("div",{className:"contentSpacing",id:"searchPage"},s.a.createElement(I.a,{className:Pe.a.searchPageGrid,render:()=>ze(h,f)}))),s.a.createElement(r.Suspense,{fallback:null},s.a.createElement(We,null)))});a.default=Xe},xS3f:function(e,a,t){"use strict";t.d(a,"b",(function(){return m})),t.d(a,"a",(function(){return b})),t.d(a,"c",(function(){return f}));var r=t("mXGw"),s=t.n(r),c=t("8Jek"),n=t.n(c),l=t("1H/E"),o=t("Y4hq"),i=t("2WkL"),u=t.n(i),d=t("hGjs");let m,b;!function(e){e.primary="primary",e.secondary="secondary",e.transparent="transparent"}(m||(m={})),function(e){e[e.xs=32]="xs",e[e.sm=40]="sm",e[e.md=48]="md",e[e.lg=56]="lg",e[e.xl=64]="xl"}(b||(b={}));const f=s.a.memo(Object(r.forwardRef)((e,a)=>{const{onClick:t,isPlaying:r,version:c=m.primary,size:i=b.sm,disabled:f=!1}=e,p=40===i?16:i/2,h={"--size":i+"px"};return s.a.createElement("button",{style:h,className:n()(u.a.PlayButton,u.a[c]),onClick:e=>{const{currentTarget:a,detail:r}=e;t(e),r>0&&a&&a.blur()},disabled:f,title:r?d.b.get("pause"):d.b.get("play"),"aria-label":r?d.b.get("pause"):d.b.get("play"),ref:a,"data-testid":"play-button"},r?s.a.createElement(o.a,{"aria-hidden":!0,size:p}):s.a.createElement(l.a,{"aria-hidden":!0,size:p}))}))}}]);