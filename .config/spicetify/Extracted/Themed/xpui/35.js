(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"68pG":function(e,a,t){e.exports={container:"_8276f91f374da38a40c93c62a6546ac0-scss",initialsFallback:"e552d3c62aba57162103f29e84246695-scss"}},R1yB:function(e,a,t){e.exports={container:"_94036e5bb5f694ba25b52b61f7008805-scss",avatar:"_9092271d6d68b7cfb600f9bd52ac8749-scss",name:"_66ede62910734369a9aa5b29bf658dcd-scss",leaveButton:"bd06f147fb4d0f206a878ba0a5164afb-scss"}},Rypv:function(e,a,t){"use strict";var s=t("8VmE"),n=t.n(s),i=t("mXGw"),l=t.n(i),c=t("yVym"),o=t("2Uh0");const r=e=>e;a.a=e=>l.a.createElement(c.b,n()({id:o.k,collect:r,holdToDisplay:-1},e))},jEDb:function(e,a,t){e.exports={container:"_014a6bc95fa4f95dabf7be4c06d32781-scss",headerTitle:"de6f9631c529e9e7da4459a24493cac7-scss",descriptionText:"ac424f02c46743ff10a9be8cf189411d-scss",betaLabel:"_5cfe037555280ddc8bf67eca938a9464-scss",privacyDisclaimer:"_6820413a6a66e506183f07d733bb9129-scss",inviteButton:"cd2e14d097a2bae3d2525e8d1b294ad6-scss",inviteMoreFriendsMessage:"c13fab679d17adfd903684ac5d5f1c8c-scss"}},ousF:function(e,a,t){"use strict";t.r(a),t.d(a,"SocialListeningCard",(function(){return U}));t("W0B4");var s=t("mXGw"),n=t.n(s),i=t("/m4v"),l=t("CNRc"),c=t("hGjs"),o=t("wJTk"),r=t.n(o),d=t("34YF"),b=t("Rypv"),m=t("Ypwk"),_=t("jEDb"),v=t.n(_),u=t("8I+N"),g=t("eI+U"),f=t("+CXe"),p=t("68pG"),h=t.n(p);function w({username:e="",displayName:a="",imageUrl:t,typeVariant:s=l.a.balladBold}){return n.a.createElement("div",{className:h.a.container},n.a.createElement(f.a,{src:t,alt:a,loading:"eager"},n.a.createElement(l.a.span,{className:h.a.initialsFallback,variant:s,style:{backgroundColor:E(e)}},Array.from(a)[0])))}function E(e){const a=[g.salmon,g.electricSeafoam,g.azure,g.lavender,g.orange,g.bole];return a[(e.length||0)%a.length]}var y=t("R1yB"),N=t.n(y);function x({username:e,displayName:a,imageUrl:t,shouldShowLeaveButton:s,isHost:i,onLeave:l}){const o=r.a.profileURI(e).toURI(),d=i?c.b.get("social_listening.session_view_delete_session_button_title_text"):c.b.get("social_listening.session_view_leave_session_button_title_text");return n.a.createElement("div",{className:N.a.container},n.a.createElement("div",{className:N.a.avatar},n.a.createElement(w,{username:e,displayName:a,imageUrl:t})),n.a.createElement(u.a,{className:N.a.name+" ellipsis-one-line",to:o},a),s&&n.a.createElement("button",{className:N.a.leaveButton,onClick:l,"aria-label":d,title:d},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 20 20"},n.a.createElement("path",{fill:"currentColor",d:"M16.962 3.627l-.59-.588L10 9.411 3.627 3.039l-.588.588L9.411 10l-6.372 6.372.588.59L10 10.589l6.372 6.373.59-.59L10.589 10l6.373-6.373z"}))))}var L=t("U2jI"),B=t("oS2X");const j=({socialListening:{session:e,isLoading:a,hasSubscribed:t,error:s}={},onlineStatus:{online:n}={}})=>({session:e,isLoading:a,hasSubscribed:t,error:s,isOnline:n});function U({isVisible:e}){var a;const t=Object(i.c)(),{session:o,isLoading:_,hasSubscribed:u,error:g,isOnline:f}=Object(i.d)(j);Object(s.useEffect)(()=>{u||t(Object(m.i)())},[t,u]),Object(s.useEffect)(()=>{f&&e&&t(Object(m.g)())},[t,f,e]);const p=Object(L.b)(B.n);if(!f)return null;const h=(null==o||null===(a=o.participants)||void 0===a?void 0:a.length)||0,w=h===p,{isSessionOwner:E,hasNonHostParticipants:y,participants:N=[],joinSessionToken:U}=o||{},k=g&&!_,S=c.b.get("social_listening.session_view_failed_to_load"),O=y?c.b.get("social_listening.session_view_active_session_description_text"):c.b.get("social_listening.session_view_description_text");return n.a.createElement("div",{className:v.a.container},n.a.createElement(l.a.span,{className:v.a.headerTitle,variant:l.a.balladBold},c.b.get("social_listening.session_view_header_title"),n.a.createElement(l.a.span,{className:v.a.betaLabel,variant:l.a.minuetBold},c.b.get("social_listening.session_beta_label"))),n.a.createElement(l.a.p,{className:v.a.descriptionText,variant:l.a.mesto},k?n.a.createElement("span",{role:"alert"},S):O),k&&n.a.createElement(d.a,{version:"outlined",onClick:m.g},c.b.get("social_listening.session_view_try_again_button_title_text")),!k&&N.map(({username:e,displayName:a,imageUrl:s,isHost:i,isCurrentUser:l})=>n.a.createElement(x,{key:e,username:e,displayName:a,imageUrl:s,isHost:i,shouldShowLeaveButton:!(!l||!y),onLeave:()=>t(Object(m.h)())})),!k&&E&&!w&&n.a.createElement(b.a,{uri:r.a.socialSessionURI(U).toURI(),holdToDisplay:0},n.a.createElement("button",{className:v.a.inviteButton,title:c.b.get("social_listening.invite_button_text"),"aria-label":c.b.get("social_listening.invite_button_text")},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",fill:"none",viewBox:"0 0 19 19"},n.a.createElement("path",{fill:"currentColor",d:"M10 9V0h-.999v9H0v1h9.001v9H10v-9h9V9h-9z"})))),n.a.createElement(l.a.p,{variant:l.a.finale,className:v.a.privacyDisclaimer},E&&!w&&n.a.createElement("span",{className:v.a.inviteMoreFriendsMessage},c.b.get("social_listening.invite_title",p-h),".")," ",c.b.get("social_listening.privacy_disclaimer")))}}}]);